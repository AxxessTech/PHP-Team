<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PHP &amp; Laravel Code Style Guide | PHP Docs</title>
    <meta name="generator" content="VuePress 1.6.0">
    
    <meta name="description" content="Documentation for the Axxess PHP Team">
    <link rel="preload" href="/PHP-Team/assets/css/0.styles.d3eb433b.css" as="style"><link rel="preload" href="/PHP-Team/assets/js/app.549a3186.js" as="script"><link rel="preload" href="/PHP-Team/assets/js/2.21789d1a.js" as="script"><link rel="preload" href="/PHP-Team/assets/js/10.4f59b3d4.js" as="script"><link rel="prefetch" href="/PHP-Team/assets/js/11.f4e62a2c.js"><link rel="prefetch" href="/PHP-Team/assets/js/12.05a540f4.js"><link rel="prefetch" href="/PHP-Team/assets/js/13.350c848d.js"><link rel="prefetch" href="/PHP-Team/assets/js/14.260dcffe.js"><link rel="prefetch" href="/PHP-Team/assets/js/15.40601d37.js"><link rel="prefetch" href="/PHP-Team/assets/js/3.3f9dd631.js"><link rel="prefetch" href="/PHP-Team/assets/js/4.9db845cf.js"><link rel="prefetch" href="/PHP-Team/assets/js/5.74ccce51.js"><link rel="prefetch" href="/PHP-Team/assets/js/6.761b8afb.js"><link rel="prefetch" href="/PHP-Team/assets/js/7.6ba92ba9.js"><link rel="prefetch" href="/PHP-Team/assets/js/8.1077165e.js"><link rel="prefetch" href="/PHP-Team/assets/js/9.64883b39.js">
    <link rel="stylesheet" href="/PHP-Team/assets/css/0.styles.d3eb433b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/PHP-Team/" class="home-link router-link-active"><img src="/PHP-Team/logo.svg" alt="PHP Docs" class="logo"> <span class="site-name can-hide">PHP Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Axxess PHP Team</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/PHP-Team/" aria-current="page" class="sidebar-link">Home</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Code Style Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/PHP-Team/code-style-guide/" aria-current="page" class="sidebar-link">General</a></li><li><a href="/PHP-Team/code-style-guide/php-and-laravel.html" aria-current="page" class="active sidebar-link">PHP &amp; Laravel</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#general-php-rules" class="sidebar-link">General PHP Rules</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#docblocks" class="sidebar-link">Docblocks</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#strings" class="sidebar-link">Strings</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#ternary-operators" class="sidebar-link">Ternary operators</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#if-statements" class="sidebar-link">If statements</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#comments" class="sidebar-link">Comments</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#whitespace" class="sidebar-link">Whitespace</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#configuration" class="sidebar-link">Configuration</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#artisan-commands" class="sidebar-link">Artisan commands</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#routing" class="sidebar-link">Routing</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#controllers" class="sidebar-link">Controllers</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#views" class="sidebar-link">Views</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#validation" class="sidebar-link">Validation</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#blade-templates" class="sidebar-link">Blade Templates</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#authorization" class="sidebar-link">Authorization</a></li><li class="sidebar-sub-header"><a href="/PHP-Team/code-style-guide/php-and-laravel.html#naming-classes" class="sidebar-link">Naming Classes</a></li></ul></li><li><a href="/PHP-Team/code-style-guide/javascript.html" class="sidebar-link">JavaScript</a></li><li><a href="/PHP-Team/code-style-guide/vuejs.html" class="sidebar-link">Vue.js</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Version Control</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/PHP-Team/version-control/" class="sidebar-link">General</a></li><li><a href="/PHP-Team/version-control/feature-branch-workflow.html" class="sidebar-link">Feature Branch Workflow</a></li><li><a href="/PHP-Team/version-control/gitflow-workflow.html" class="sidebar-link">Gitflow Workflow</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Local Development</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/PHP-Team/local-development/" class="sidebar-link">Docker</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="php-laravel"><a href="#php-laravel" class="header-anchor">#</a> PHP &amp; Laravel</h1> <p>Laravel provides the most value when you write things the way Laravel intended you to write. If there's a documented way to achieve something, follow it. Whenever you do something differently, make sure you have a justification for why you didn't follow the defaults.</p> <br> <h2 id="general-php-rules"><a href="#general-php-rules" class="header-anchor">#</a> General PHP Rules</h2> <p>Code style must follow <a href="https://www.php-fig.org/psr/psr-1/" target="_blank" rel="noopener noreferrer">PSR-1<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, <a href="https://www.php-fig.org/psr/psr-2/" target="_blank" rel="noopener noreferrer">PSR-2<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://www.php-fig.org/psr/psr-12/" target="_blank" rel="noopener noreferrer">PSR-12<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Generally speaking, everything string-like that's not public-facing should use camelCase. Detailed examples on these are spread throughout the guide in their relevant sections.</p> <h3 id="class-defaults"><a href="#class-defaults" class="header-anchor">#</a> CLASS DEFAULTS</h3> <p>By default, we don't use <code>final</code>. There aren't many benefits that <code>final</code> offers as we don't rely too much on inheritance.</p> <h3 id="void-return-types"><a href="#void-return-types" class="header-anchor">#</a> VOID RETURN TYPES</h3> <p>If a method returns nothing, it should be indicated with <code>void</code>. This makes it more clear to the users of your code what your intention was when writing it.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// good</span>

<span class="token comment">// in a Laravel model</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">scopeArchived</span><span class="token punctuation">(</span>Builder <span class="token variable">$query</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$query</span><span class="token operator">-</span><span class="token operator">&gt;</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <h2 id="docblocks"><a href="#docblocks" class="header-anchor">#</a> Docblocks</h2> <p>Don't use docblocks for methods that can be fully type hinted (unless you need a description).</p> <p>Only add a description when it provides more context than the method signature itself. Use full sentences for descriptions, including a period at the end.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>
<span class="token keyword">class</span> <span class="token class-name">Url</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">fromString</span><span class="token punctuation">(</span>string <span class="token variable">$url</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Url
    <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Bad: The description is redundant, and the method is fully type-hinted.</span>
<span class="token keyword">class</span> <span class="token class-name">Url</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
     * Create a url from a string.
     *
     * @param string $url
     *
     * @return \Url\Url
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">fromString</span><span class="token punctuation">(</span>string <span class="token variable">$url</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Url
    <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Always use fully qualified class names in docblocks.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>

<span class="token comment">/**
 * @param string $url
 *
 * @return \Url\Url
 */</span>

<span class="token comment">// Bad</span>

<span class="token comment">/**
 * @param string $foo
 *
 * @return Url
 */</span>
</code></pre></div><p>Using multiple lines for a docblock, might draw too much attention to it. When possible, docblocks should be written on one line.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>

<span class="token comment">/** @var string */</span>
<span class="token comment">/** @test */</span>

<span class="token comment">// Bad</span>

<span class="token comment">/**
 * @test
 */</span>
</code></pre></div><p>If a variable has multiple types, the most common occurring type should be first.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>

<span class="token comment">/** @var \Foo\Bar|null */</span>

<span class="token comment">// Bad</span>

<span class="token comment">/** @var null|\Foo\Bar */</span>
</code></pre></div><br> <h2 id="strings"><a href="#strings" class="header-anchor">#</a> Strings</h2> <p>When possible prefer string interpolation above <code>sprintf</code> and the <code>.</code> operator.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>
<span class="token variable">$greeting</span> <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;Hi, I am <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$name</span><span class="token punctuation">}</span></span>.&quot;</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Bad</span>
<span class="token variable">$greeting</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'Hi, I am '</span> <span class="token punctuation">.</span> <span class="token variable">$name</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'.'</span><span class="token punctuation">;</span>
</code></pre></div><br> <h2 id="ternary-operators"><a href="#ternary-operators" class="header-anchor">#</a> Ternary operators</h2> <p>Every portion of a ternary expression should be on its own line unless it's a really short expression.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$object</span> <span class="token keyword">instanceof</span> <span class="token class-name">Model</span>
    <span class="token operator">?</span> <span class="token variable">$object</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">name</span>
    <span class="token punctuation">:</span> <span class="token single-quoted-string string">'A default value'</span><span class="token punctuation">;</span>

<span class="token variable">$name</span> <span class="token operator">=</span> <span class="token variable">$isFoo</span> <span class="token operator">?</span> <span class="token single-quoted-string string">'foo'</span> <span class="token punctuation">:</span> <span class="token single-quoted-string string">'bar'</span><span class="token punctuation">;</span>

<span class="token comment">// Bad</span>
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$object</span> <span class="token keyword">instanceof</span> <span class="token class-name">Model</span> <span class="token operator">?</span>
    <span class="token variable">$object</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">name</span> <span class="token punctuation">:</span>
   <span class="token single-quoted-string string">'A default value'</span><span class="token punctuation">;</span>
</code></pre></div><br> <h2 id="if-statements"><a href="#if-statements" class="header-anchor">#</a> If statements</h2> <h3 id="bracket-position"><a href="#bracket-position" class="header-anchor">#</a> BRACKET POSITION</h3> <p>Always use curly brackets.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$condition</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token comment">// Bad</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$condition</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><h3 id="happy-path"><a href="#happy-path" class="header-anchor">#</a> HAPPY PATH</h3> <p>Generally a function should have its unhappy path first and its happy path last. In most cases this will cause the happy path being in an unindented part of the function which makes it more readable.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token variable">$goodCondition</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// do work</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Bad</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$goodCondition</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment">// do work</span>
<span class="token punctuation">}</span>

<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="avoid-else"><a href="#avoid-else" class="header-anchor">#</a> AVOID ELSE</h3> <p>In general, <code>else</code> should be avoided because it makes code less readable. In most cases it can be refactored using early returns. This will also cause the happy path to go last, which is desirable.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token variable">$conditionBA</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// conditionB A failed</span>

   <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token variable">$conditionB</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// conditionB A passed, B failed</span>

   <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// condition A and B passed</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Bad</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$conditionA</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$conditionB</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// condition A and B passed</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">else</span> <span class="token punctuation">{</span>
     <span class="token comment">// conditionB A passed, B failed</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
   <span class="token comment">// conditionB A failed</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Another option to refactor an <code>else</code> away is using a ternary</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Bad</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$condition</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">doSomethingElse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>

<span class="token variable">$condition</span>
    <span class="token operator">?</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">:</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">doSomethingElse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="compound-ifs"><a href="#compound-ifs" class="header-anchor">#</a> COMPOUND IFS</h3> <p>In general, separate <code>if</code> statements should be preferred over a compound condition. This makes debugging code easier.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token variable">$conditionA</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token variable">$conditionB</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token variable">$conditionC</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// do stuff</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// bad</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$conditionA</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$conditionB</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$conditionC</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// do stuff</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <h2 id="comments"><a href="#comments" class="header-anchor">#</a> Comments</h2> <p>Comments should be avoided as much as possible by writing expressive code. If you do need to use a comment, format it like this:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// There should be a space before a single line comment.</span>

<span class="token comment">/*
 * If you need to explain a lot you can use a comment block. Notice the
 * single * on the first line. Comment blocks don't need to be three
 * lines long or three characters shorter than the previous line.
 */</span>
</code></pre></div><p>A possible strategy to refactor away a comment is to create a function with name that describes the comment</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>
<span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">calculateLoans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Bad</span>

<span class="token comment">// Start calculation loans</span>
</code></pre></div><br> <h2 id="whitespace"><a href="#whitespace" class="header-anchor">#</a> Whitespace</h2> <p>Statements should be allowed to breathe. In general always add blank lines between statements, unless they're a sequence of single-line equivalent operations. This isn't something enforceable, it's a matter of what looks best in its context.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getPage</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$page</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'slug'</span><span class="token punctuation">,</span> <span class="token variable">$url</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token variable">$page</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'private'</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span> Auth<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token variable">$page</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Bad: Everything's cramped together.</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">getPage</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$page</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">pages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'slug'</span><span class="token punctuation">,</span> <span class="token variable">$url</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token variable">$page</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'private'</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span> Auth<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token variable">$page</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good: A sequence of single-line equivalent operations.</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Schema<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'users'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Blueprint <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">increments</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'email'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'password'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">rememberToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$table</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">timestamps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Don't add any extra empty lines between <code>{}</code> brackets.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$foo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">foo</span> <span class="token operator">=</span> <span class="token variable">$foo</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Bad</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$foo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">foo</span> <span class="token operator">=</span> <span class="token variable">$foo</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><br> <h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <p>Configuration files must use kebab-case.</p> <div class="language- extra-class"><pre class="language-text"><code>config/
  pdf-generator.php
</code></pre></div><p>Configuration keys must use snake_case.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// config/pdf-generator.php</span>
<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'chrome_path'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'CHROME_PATH'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>Avoid using the <code>env</code> helper outside of configuration files. Create a configuration value from the <code>env</code> variable like above.</p> <p>When adding config values for a specific service them to the <code>services</code> config file. Do not create a new config file.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good: adding credentials to `config/services.php`</span>
<span class="token keyword">return</span> <span class="token punctuation">[</span>
     <span class="token single-quoted-string string">'ses'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            <span class="token single-quoted-string string">'key'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'SES_AWS_ACCESS_KEY_ID'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token single-quoted-string string">'secret'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'SES_AWS_SECRET_ACCESS_KEY'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token single-quoted-string string">'region'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'SES_AWS_DEFAULT_REGION'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'us-east-1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token single-quoted-string string">'github'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'username'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'GITHUB_USERNAME'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'token'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'GITHUB_TOKEN'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'client_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'GITHUB_CLIENT_ID'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'client_secret'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'GITHUB_CLIENT_SECRET'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'redirect'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'GITHUB_CALLBACK_URL'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'docs_access_token'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'GITHUB_ACCESS_TOKEN'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token single-quoted-string string">'weyland_yutani'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'token'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'WEYLAND_YUTANI_TOKEN'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Bad: creating a new config file: `weyland-yutani.php`</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'weyland_yutani'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'token'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'WEYLAND_YUTANI_TOKEN'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><br> <h2 id="artisan-commands"><a href="#artisan-commands" class="header-anchor">#</a> Artisan commands</h2> <p>The names given to artisan commands should all be kebab-cased.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Good</span>
php artisan delete-old-records

<span class="token comment"># Bad</span>
php artisan deleteOldRecords
</code></pre></div><p>A command should always give some feedback on what the result is. Minimally you should let the <code>handle</code> method spit out a comment at the end indicating that all went well.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// in a Command</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// do some work</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">comment</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'All ok!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>When the main function of a result is processing items, consider adding output inside of the loop, so progress can be tracked. Put the output before the actual process. If something goes wrong, this makes it easy to know which item caused the error.</p> <p>At the end of the command, provide a summary on how much processing was done.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// in a Command</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">comment</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;Start processing items...&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// do some work</span>
    <span class="token variable">$items</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>Item <span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;Processing item id `<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$item</span><span class="token operator">-</span>id<span class="token punctuation">}</span></span>`...&quot;</span><span class="token punctuation">)</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">processItem</span><span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">comment</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;Processed <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$item</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> items.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <h2 id="routing"><a href="#routing" class="header-anchor">#</a> Routing</h2> <p>Route names must use camelCase.</p> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'open-source'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'OpenSourceController@index'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'openSource'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-markup extra-class"><pre class="language-markup"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ route(<span class="token punctuation">'</span>openSource<span class="token punctuation">'</span>) }}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    Open Source
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>All routes have an http verb, that's why we like to put the verb first when defining a route. It makes a group of routes very readable. Any other route options should come after it.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// good: all http verbs come first</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'HomeController@index'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'home'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'open-source'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'OpenSourceController@index'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'openSource'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// bad: http verbs not easily scannable</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'home'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'HomeController@index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'openSource'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'OpenSourceController@index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Route parameters should use camelCase.</p> <div class="language-php extra-class"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'news/{newsItem}'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'NewsItemsController@index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>A route url should not start with <code>/</code> unless the url would be an empty string.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// good</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'HomeController@index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'open-source'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'OpenSourceController@index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//bad</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'HomeController@index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/open-source'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'OpenSourceController@index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><br> <h2 id="controllers"><a href="#controllers" class="header-anchor">#</a> Controllers</h2> <p>Try to keep controllers simple and stick to the default CRUD keywords (<code>index</code>, <code>create</code>, <code>store</code>, <code>show</code>, <code>edit</code>, <code>update</code>, <code>destroy</code>). Extract a new controller if you need other actions.</p> <p>In the following example, we could have <code>PostsController@favorite</code>, and <code>PostsController@unfavorite</code>, or we could extract it to a separate <code>FavoritePostsController</code>.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name">PostsController</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">favorite</span><span class="token punctuation">(</span>Post <span class="token variable">$post</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">favorites</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token constant">null</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">unfavorite</span><span class="token punctuation">(</span>Post <span class="token variable">$post</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">favorites</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">detach</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token constant">null</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Here we fall back to default CRUD words, <code>store</code> and <code>destroy</code>.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name">FavoritePostsController</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">store</span><span class="token punctuation">(</span>Post <span class="token variable">$post</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">favorites</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token constant">null</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">destroy</span><span class="token punctuation">(</span>Post <span class="token variable">$post</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">favorites</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">detach</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token constant">null</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This is a loose guideline that doesn't need to be enforced.</p> <br> <h2 id="views"><a href="#views" class="header-anchor">#</a> Views</h2> <p>View files must use camelCase.</p> <div class="language- extra-class"><pre class="language-text"><code>resources/
  views/
    healthRecords.blade.php
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">class</span> <span class="token class-name">HealthRecordsController</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">view</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'healthRecords'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <h2 id="validation"><a href="#validation" class="header-anchor">#</a> Validation</h2> <p>When using multiple rules for one field in a form request, avoid using <code>|</code>, always use array notation. Using an array notation will make it easier to apply custom rule classes to a field.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Good</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">rules</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'email'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'required'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'email'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Bad</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">rules</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'email'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'required|email'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>All custom validation rules must use snake_case:</p> <div class="language-php extra-class"><pre class="language-php"><code>Validator<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'organisation_type'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$attribute</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> OrganisationType<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">isValid</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><br> <h2 id="blade-templates"><a href="#blade-templates" class="header-anchor">#</a> Blade Templates</h2> <p>Indent using four spaces.</p> <div class="language-markup extra-class"><pre class="language-markup"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/health-records<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    Health Records
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Don't add spaces after control structures.</p> <div class="language-markup extra-class"><pre class="language-markup"><code>@if($condition)
    Something
@endif
</code></pre></div><br> <h2 id="authorization"><a href="#authorization" class="header-anchor">#</a> Authorization</h2> <p>Policies must use camelCase.</p> <div class="language-php extra-class"><pre class="language-php"><code>Gate<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'editPost'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$user</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">id</span> <span class="token operator">==</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">user_id</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-markup extra-class"><pre class="language-markup"><code>@can('editPost', $post)
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ route(<span class="token punctuation">'</span>posts.edit<span class="token punctuation">'</span>, $post) }}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        Edit
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
@endcan
</code></pre></div><p>Try to name abilities using default CRUD words. One exception: replace <code>show</code> with <code>view</code>. A server shows a resource, a user views it.</p> <br> <h2 id="naming-classes"><a href="#naming-classes" class="header-anchor">#</a> Naming Classes</h2> <p>Naming things is often seen as one of the harder things in programming. That's why we've established some high level guidelines for naming classes.</p> <h3 id="controllers-2"><a href="#controllers-2" class="header-anchor">#</a> CONTROLLERS</h3> <p>Generally controllers are named by the singular form of their corresponding resource and a <code>Controller</code> suffix. This is to avoid naming collisions with models that are often equally named.</p> <p>e.g. <code>UserController</code> or <code>EventDateController</code></p> <p>When writing non-resourceful controllers you might come across invokable controllers that perform a single action. These can be named by the action they perform again suffixed by <code>Controller</code>.</p> <p>e.g. <code>PerformCleanupController</code></p> <h3 id="resources-and-transformers"><a href="#resources-and-transformers" class="header-anchor">#</a> RESOURCES (AND TRANSFORMERS)</h3> <p>Both Eloquent resources and Fractal transformers are plural resources suffixed with <code>Resource</code> or <code>Transformer</code> accordingly. This is to avoid naming collisions with models.</p> <h3 id="jobs"><a href="#jobs" class="header-anchor">#</a> JOBS</h3> <p>A job's name should describe its action.</p> <p>E.g. <code>CreateUser</code> or <code>PerformDatabaseCleanup</code></p> <h3 id="events"><a href="#events" class="header-anchor">#</a> EVENTS</h3> <p>Events will often be fired before or after the actual event. This should be very clear by the tense used in their name.</p> <p>E.g. <code>ApprovingLoan</code> before the action is completed and <code>LoanApproved</code> after the action is completed.</p> <h3 id="listeners"><a href="#listeners" class="header-anchor">#</a> LISTENERS</h3> <p>Listeners will perform an action based on an incoming event. Their name should reflect that action with a <code>Listener</code> suffix. This might seem strange at first but will avoid naming collisions with jobs.</p> <p>E.g. <code>SendInvitationMailListener</code></p> <h3 id="commands"><a href="#commands" class="header-anchor">#</a> COMMANDS</h3> <p>To avoid naming collisions we'll suffix commands with <code>Command</code>, so they are easiliy distinguisable from jobs.</p> <p>e.g. <code>PublishScheduledPostsCommand</code></p> <h3 id="mailables"><a href="#mailables" class="header-anchor">#</a> MAILABLES</h3> <p>Again to avoid naming collisions we'll suffix mailables with <code>Mail</code>, as they're often used to convey an event, action or question.</p> <p>e.g. <code>AccountActivatedMail</code> or <code>NewEventMail</code></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/PHP-Team/code-style-guide/" class="prev router-link-active">
        General
      </a></span> <span class="next"><a href="/PHP-Team/code-style-guide/javascript.html">
        JavaScript
      </a>
      
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/PHP-Team/assets/js/app.549a3186.js" defer></script><script src="/PHP-Team/assets/js/2.21789d1a.js" defer></script><script src="/PHP-Team/assets/js/10.4f59b3d4.js" defer></script>
  </body>
</html>
